<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>   
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script src="js/long.min.js"></script>
<script src="js/bytebuffer.min.js"></script>
<script src="js/protobuf.min.js"></script>
<script >


var ProtoBuf = dcodeIO.ProtoBuf;

var builder = ProtoBuf.loadProtoFile("complex.proto"),
    Game = builder.build("Game"),
    Car = Game.Cars.Car;

// Construct with arguments list in field order:
var car = new Car("Rusty", new Car.Vendor("Iron Inc.", new Car.Vendor.Address("US")), Car.Speed.SUPERFAST);

// OR: Construct with values from an object, implicit message creation (address) and enum values as strings:
var car = new Car({
    "model": "Rusty",
    "vendor": {
        "name": "Iron Inc.",
        "address": {
            "country": "US"
        }
    },
    "speed": "SUPERFAST" // also equivalent to "speed": 2
});

// OR: It's also possible to mix all of this!

// Afterwards, just encode your message:
var buffer = car.encode();
// // And send it over the wire:
// var socket = ...;
// socket.send(buffer.toArrayBuffer()); // node.js: buffer.toBuffer()

// // OR: Short...
// socket.send(car.toArrayBuffer()); // node.js: car.toBuffer()



var ByteBuffer = dcodeIO.ByteBuffer
var bb = new ByteBuffer()
            .writeIString("Hello world!")
            .flip();
console.log(bb.readIString()+" from bytebuffer.js");

</script>

</head>
<body>

 
</script>
</body>
</html>